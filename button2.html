<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒœã‚¿ãƒ³2</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>A10ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—</h1>
        <div class="user-name" id="userNameDisplay"></div>
    </header>
    
    <main>
        <h1>ã‚¤ãƒ™ãƒ³ãƒˆæ²ç¤ºæ¿</h1>
        <p>å­¦å†…ã§é–‹å‚¬ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>

        <div class="events-container">
            <!-- Hack U MåŸ -->
            <div class="event-card">
                <h2 class="event-title">Hack U MåŸ</h2>
                <p class="event-description">MåŸå¤§å­¦ã§é–‹å‚¬ã•ã‚Œã‚‹ãƒãƒƒã‚«ã‚½ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ãƒãƒ¼ãƒ ã‚’çµ„ã‚“ã§1æ—¥ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã£ã¦ã¿ã‚ˆã†ï¼</p>
                <button type="button" class="event-join-button">å‚åŠ å®£è¨€</button>
                <div class="event-participants">
                    <div class="event-participant-icon">
                        <img src="img/marisa.png" alt="é­”ç†æ²™">
                    </div>
                    <div class="event-participant-icon">
                        <img src="img/takahashi.png" alt="é«˜æ©‹">
                    </div>
                </div>
            </div>

            <!-- å­¦å†…æ¸…æƒã‚¤ãƒ™ãƒ³ãƒˆ -->
            <div class="event-card">
                <h2 class="event-title">å­¦å†…æ¸…æƒã‚¤ãƒ™ãƒ³ãƒˆ</h2>
                <p class="event-description">ã¿ã‚“ãªã§ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã‚’ãã‚Œã„ã«ã—ã‚ˆã†ï¼æœã®1æ™‚é–“ã€å­¦å†…ã®ã‚´ãƒŸæ‹¾ã„ã‚’è¡Œã„ã¾ã™ã€‚</p>
                <button type="button" class="event-join-button">å‚åŠ å®£è¨€</button>
                <div class="event-participants">
                    <div class="event-participant-icon">
                        <img src="img/reimu.png" alt="éœŠå¤¢">
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <a href="button1.html" class="footer-btn"><img src="img/page1.png" alt="ãƒœã‚¿ãƒ³1"></a>
        <a href="button2.html" class="footer-btn"><img src="img/page2.png" alt="ãƒœã‚¿ãƒ³2"></a>
        <a href="team.html" class="footer-btn team-btn">ğŸ‘¥</a>
        <a href="settings.html" class="footer-btn settings-btn">âš™ï¸</a>
    </footer>
    
    <script>
        function getUserProfile() {
            const storedUsername = localStorage.getItem('username') || '';
            const raw = localStorage.getItem('userProfile');
            let profile = { username: storedUsername, gender: '', birthdate: '', hobbies: [], icon: '' };
            if (raw) {
                try {
                    const parsed = JSON.parse(raw);
                    profile = { ...profile, ...parsed };
                } catch (e) {}
            }
            if (!profile.username && storedUsername) profile.username = storedUsername;
            return profile;
        }

        function applyHeaderProfile() {
            const el = document.getElementById('userNameDisplay');
            if (!el) return;

            const profile = getUserProfile();
            if (!profile.username) {
                el.textContent = '';
                return;
            }

            const isImageIcon = profile.icon && (profile.icon.startsWith('img/') || profile.icon.match(/\.(png|jpg|jpeg|gif|webp)$/i));
            const iconHtml = profile.icon
                ? (isImageIcon
                    ? `<img class="user-icon" src="${profile.icon}" alt="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³">`
                    : `<span class="user-icon">${profile.icon}</span>`)
                : '';
            el.innerHTML =
                `<span class="user-name-content">` +
                iconHtml +
                `<span class="user-name-text">${profile.username}</span>` +
                `</span>`;
        }

        applyHeaderProfile();
    </script>
</body>
</html>

